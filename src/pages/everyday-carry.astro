---
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout.astro";
import SectionLabel from "@/components/SectionLabel.astro";

const gear: CollectionEntry<"gear">["slug"][] = [
  "apple-iphone-15-pro",
  "apple-watch-ultra-2",
  "tactile-knife-co-rockwall",
  "tactile-turn-apollo-flashlight",
];

const items = await getCollection("gear", (item) => {
  return gear.includes(item.slug);
});
---

<BaseLayout
  title="Everyday Carry"
  description="UI engineer who enjoys working at the intersection of design and engineering teams."
>
  <header class="relative px-4 py-12 text-center sm:px-8 sm:py-16">
    <SectionLabel as="p">Intro</SectionLabel>
    <h1 class="font-mono text-sm text-neutral-400">Everyday Carry</h1>
    <p class="mt-2 text-balance text-xl font-medium tracking-tight sm:text-2xl">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Harum officiis
      aliquam architecto eaque.
    </p>
  </header>

  <div
    class="h-6 w-full border-y border-neutral-700 opacity-75 [background-image:linear-gradient(45deg,theme(colors.neutral.700)_12.50%,transparent_12.50%,transparent_50%,theme(colors.neutral.700)_50%,theme(colors.neutral.700)_62.50%,transparent_62.50%,transparent_100%)] [background-size:4px_4px]"
    aria-hidden="true"
  >
  </div>

  <section class="relative flex-1">
    <SectionLabel>Items</SectionLabel>

    <span class="absolute inset-y-0 left-1/2 w-px border-l border-neutral-700"
    ></span>

    <div class="grid sm:grid-cols-2">
      {
        items.map((item) => {
          return (
            <article class="group/item relative border-neutral-700 p-8 [&:nth-child(-n+2)]:border-b">
              <p class="mb-1 font-mono text-xs uppercase text-orange-300">
                {item.data.category}
              </p>
              <h3 class="font-semibold tracking-tight">{item.data.title}</h3>
              <p class="mt-4 text-neutral-400">{item.data.description}</p>
              <span
                class:list={[
                  "absolute -bottom-2 -right-2 z-10 size-4 group-even/item:hidden",
                  "before:absolute before:left-1/2 before:h-full before:w-px before:bg-white",
                  "after:absolute after:top-1/2 after:h-px after:w-full after:bg-white",
                ]}
              />
            </article>
          );
        })
      }
    </div>
  </section>
</BaseLayout>
