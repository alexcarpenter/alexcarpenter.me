---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Changelog from "@/components/Changelog.astro";

const meta = {
  title: "Changelog",
  description:
    "All notable changes to this project will be documented in this file.",
  lastUpdated: "2025-08-23",
};

const items = [
  {
    date: "2025-08-23",
    description: "Added [gear page](/gear)",
  },
  {
    date: "2025-07-06",
    description: "Added tags [index page](/tags)",
  },
  {
    date: "2025-06-27",
    description: "Added notes [RSS feed](/notes/rss.xml)",
  },
];
---

<BaseLayout title={meta.title} description={meta.description}>
  <article class="mt-16 container">
    <dl>
      <dt class="sr-only">Last updated</dt>
      <dd>
        <time
          class="inline-block text-muted-foreground font-medium"
          datetime={new Date(meta.lastUpdated).toISOString()}
        >
          {
            new Date(meta.lastUpdated).toLocaleDateString("en-US", {
              year: "numeric",
              month: "short",
              day: "2-digit",
              weekday: "short",
            })
          }
        </time>
      </dd>
    </dl>
    <header class="mt-4">
      <h1
        class="text-2xl font-medium tracking-tight max-w-[40ch] leading-tight"
      >
        {meta.title}
      </h1>
      <p
        class="mt-4 text-muted-foreground font-medium max-w-[55ch] text-pretty"
      >
        {meta.description}
      </p>
    </header>
    <Changelog
      items={items.map((item) => ({ ...item, date: new Date(item.date) }))}
      class="mt-8"
    />
  </article>
</BaseLayout>
