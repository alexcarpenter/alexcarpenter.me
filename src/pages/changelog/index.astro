---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Markdown from "@/components/Markdown.astro";

const meta = {
  title: "Changelog",
  description:
    "All notable changes to this project will be documented in this file.",
};

const items = [
  {
    date: "2025-12-27",
    description: "Added [articles page](/articles)",
  },
  {
    date: "2025-09-14",
    description: "Added [rolodex page](/rolodex)",
  },
  {
    date: "2025-08-23",
    description: "Added [gear page](/gear)",
  },
  {
    date: "2025-07-06",
    description: "Added tags [index page](/tags)",
  },
  {
    date: "2025-06-27",
    description: "Added notes [RSS feed](/notes/rss.xml)",
  },
];
---

<BaseLayout title={meta.title} description={meta.description}>
  <article class="container mt-16">
    <dl>
      <dt class="sr-only">Last updated</dt>
      <dd>
        <time
          class="text-muted-foreground inline-block"
          datetime={new Date(items.at(0).date).toISOString()}
        >
          {
            new Date(items.at(0).date).toLocaleDateString("en-US", {
              year: "numeric",
              month: "short",
              day: "2-digit",
              weekday: "short",
            })
          }
        </time>
      </dd>
    </dl>
    <header class="mt-4">
      <h1
        class="max-w-[40ch] text-2xl leading-tight font-medium tracking-tight"
      >
        {meta.title}
      </h1>
      <p
        class="text-muted-foreground mt-4 max-w-[55ch] font-medium text-pretty"
      >
        {meta.description}
      </p>
    </header>
    <ul class="mt-8 space-y-4">
      {
        items.map((entry) => {
          const date = new Date(entry.date);
          return (
            <li class="grid grid-cols-1 gap-x-8 sm:grid-cols-[25%_1fr]">
              <time class="text-muted-foreground" datetime={date.toISOString()}>
                {new Date(date).toLocaleDateString("en-US", {
                  year: "numeric",
                  month: "short",
                  day: "2-digit",
                })}
              </time>
              <Markdown content={entry.description} />
            </li>
          );
        })
      }
    </ul>
  </article>
</BaseLayout>
