---
import type { HTMLAttributes } from "astro/types";
import sanitizeHtml from "sanitize-html";
import { getMarkdownParser } from "@/lib/markdown.js";

interface Props extends HTMLAttributes<"div"> {
  content: string;
}

const { class: className, content, ...restAttrs } = Astro.props;
const parser = getMarkdownParser();
---

<div
  {...restAttrs}
  class:list={["prose", className]}
  set:html={sanitizeHtml(parser.render(content))}
/>
